<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Chambre 2</title>
        <link rel="stylesheet" href="css/styles.css">
        <script src="script/imageMapResizer.min.js"></script>
        <script src="script/script.js"></script>
        <script src="script/minuterie.js"></script>
        <!-- Source pour la ligne de code suivante : https://www.mathjax.org/#gettingstarted -->
        <!-- Ce bout de code permet d'afficher les expressions math√©matiques de fa√ßon plus lisible et professionnelle lorsqu'elles sont encadrer par \(...\)  -->
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>
    
    <body style="background-color: #F6AD89;">
        
        <!--Le minuteur-->
        <div id="game-timer" class="minuterie">00:00</div>
        
        <!--Bouton pour recommencer le jeu-->
        <div class="recommence" onclick="recommencer()">
            <!--Image retrouver √† https://img.icons8.com/ios_filled/512/restart.png-->
            <img src="images/recommence.png" style="object-fit: contain; height: 15px; width: 15px;">
        </div>
        
        <center>
            <!-- Image d'arri√®re-plan avec des sections cliquables -->
            <div style="height: 100vh; overflow: hidden">
                <!-- Image d'arri√®re-plan -->
                <img src="images/chambre1vue2.png" style="height: 100vh;" usemap="#chambre1vue2-map">
                
                <!-- Les sections cliquables sur l'image d'arri√®re-plan -->
                <!-- Image Map g√©n√©r√©e par http://www.image-map.net/ -->
                <map name="chambre1vue2-map">
                    <area id="btnQuestion6" coords="770,549,845,531,879,548,894,622,797,651" shape="poly">
                    <area id="btnQuestion5" coords="1698,361,1706,341,1761,363,1749,285,1772,249,1586,180,1510,297" shape="poly">
                    <area id="btnPorte1" coords="83,1026,409,870,400,102,81,241" shape="poly">
                    <area id="btnQuestion4" coords="1374,670,1370,765,1918,1014,1917,904" shape="poly">
                </map>
            </div>
        </center>
         
        <!--Fl√®che pour changer de vue-->
¬†¬†      <a href="chambre1vue1.html" class="fleche-gauche">&#11013;</a>
¬†¬†      <!--Fl√®che temporaire-->
¬†¬†      <a href="chambre2vue1.html" class="fleche-droite">&#11013;</a>
¬†¬†      ¬† 
        <!--Boite "popup"-->
        <div id="boite" class="boiteArriere">
            <!--Contenu du "popup" : Les diff√©rentes questions-->
            <div class="contenuPopup">
                <!--Bouton ¬´ X ¬ª pour fermer le "popup"-->
                <span class="fermer" style="cursor: pointer;">&times;</span>
            
                <!--Question 4 : Tiroir-->
                <form id="question4" class="question">
                    <div id="tblQ4">
                        <table border="6">
                            <tr>
                                <!--Question, champ de saisie et bouton pour valider-->
                                <td>
                                    <label for="questionTiroir">Quelle  est valeur de \(x\) dans l'√©quation: <br>\(12 - 7 \times 12 + 72 = x^2\)</label>
                                    <br> <input id="questionTiroir" type="number"><br>
                                    <input type="button" value="Valider" class="valider" onclick="salle2Question1()">
                                </td>
                            </tr> 
                        </table>
                    </div>
                    
                    <!--Espace pour afficher si la r√©ponse entr√©e est bonne ou mauvaise-->
                    <div id="divAfficheTiroir" style="margin-top: 10px;">
                    </div>
                </form>
                
                <!--Question 5 : Cadre-->
                <form id="question5" class="question">
                    <div id="tblQ5">
                        <table border="6">
                            <tr>
                                <!--Question, champ de saisie et bouton pour valider-->
                                <td>
                                    <label for="questionCadre">La droite d‚Äô√©quation \(f(x)\) = ax + b passe par les points (5, 8) et (-3, 0). Quelle est l‚Äôaire du trap√®ze form√© par les quatre points suivants : l‚Äôorigine (0, 0), l'ordonn√©e √† l'origine de \(f(x)\), le point (5, 8) et le point (5, 0) ? Donne une r√©ponse arrondie √† l‚Äôunit√© pr√®s. </label>
                                    <br> <input id="questionCadre" type="number"><br>
                                    <input type="button" value="Valider" class="valider" onclick="salle2Question2()">
                                </td>
                            </tr> 
                        </table>
                    </div>
                    
                    <!--Espace pour afficher si la r√©ponse entr√©e est bonne ou mauvaise-->
                    <div id="divAfficheCadre" style="margin-top: 10px;">
                    </div>
                </form>
                
                <!--Question 6 : Papier-->
                <form id="question6" class="question">
                    <div id="tblQ6">
                        <table border="6">
                            <tr>
                                <!--Question, champ de saisie et bouton pour valider-->
                                <td>
                                    <label for="questionPapier">Si \(3x + 6y = 30\) et \(x + y = 8\), quelle est la valeur de \(x - y\) ?</label>
                                    <br> <input id="questionPapier" type="number"><br>
                                    <input type="button" value="Valider" class="valider" onclick="salle2Question3()">
                                </td>
                            </tr> 
                        </table>
                    </div>
                    
                    <!--Espace pour afficher si la r√©ponse entr√©e est bonne ou mauvaise-->
                    <div id="divAffichePapier" style="margin-top: 10px;">
                    </div>
                </form>
                
                <!--Serrure sur la porte de la premi√®re pi√®ce-->
                <form id="porte1" class="porte">
                    <div id="tblPorte1">
                        <table style="border: 0 solid transparent; width: 100%;">
                            <tr>
                                <!--Question, champ de saisie et bouton pour sortir de la salle-->
                                <td>
                                    <label for="echap1">üß∏ + ü™¥ + üé® + üóÉÔ∏è + üìà + üìÑ = </label>
                                    <input type="number" id="echap1"><br><br>
                                    <input type="button" value="Sortir de la salle" class="valider" onclick="validerSortie1()">
                                </td>
                                
                                <!--Espace pour afficher les indices que le joueur a d√©j√† trouv√©s-->
                                <!--Source du "overflow-wrap": https://stackoverflow.com/questions/57195825/how-to-make-text-continue-to-new-line-when-reach-end-of-div-->
                                <td id="indicesTrouves" valign="top" align="right" style="overflow-wrap: break-word;">
                                </td>
                            </tr>
                        </table>
                    </div><br>
                    
                    <!--Espace pour afficher si la r√©ponse entr√©e est bonne ou mauvaise-->
                    <div id="divAffichePorte1">
                    </div>
                </form>
            
            </div>
        </div>
        
        <script>
            imageMapResize(); // Appel √† la fonction qui permet de redimensionner les ¬´ image maps ¬ª
            
            // Boite arri√®re pour le "popup"
            var boite = document.getElementById("boite")
            
            // Trouve les boutons
            var btn4 = document.getElementById("btnQuestion4")
            var btn5 = document.getElementById("btnQuestion5")
            var btn6 = document.getElementById("btnQuestion6")
            var btnPorte = document.getElementById("btnPorte1")
            
            // Questions √† afficher
            var q4 = document.getElementById("question4")
            var q5 = document.getElementById("question5")
            var q6 = document.getElementById("question6")
            var porte1 = document.getElementById("porte1")
            
            // Tableaux de questions
            var tblQ4 = document.getElementById("tblQ4")
            var tblQ5 = document.getElementById("tblQ5")
            var tblQ6 = document.getElementById("tblQ6")
            
            // Espaces pour afficher les messages
            var afficheTiroir = document.getElementById("divAfficheTiroir")
            var afficheCadre = document.getElementById("divAfficheCadre")
            var affichePapier = document.getElementById("divAffichePapier")
            var afficheIndices = document.getElementById("indicesTrouves")
            
            //Afficher la bo√Æte avec question ou l'indice lorsqu'on clique sur le tiroir
            btn4.onclick = function(){
                boite.style.display = "block"
                q4.style.display = "block"
               
                // Si la question du tiroir a d√©j√† √©t√© r√©pondue correctement
                if (sessionStorage.getItem("questionTiroirFait") == "true") {
                    tblQ4.style.display = "none"
                    afficheTiroir.innerHTML = "üóÉÔ∏è = 0"
                } else {
                    tblQ4.style.display = "block"
                }
            }
            
            //Afficher la bo√Æte avec question ou l'indice lorsqu'on clique sur le cadre
            btn5.onclick = function(){
            boite.style.display = "block"
            q5.style.display = "block"
               
                // Si la question du cadre a d√©j√† √©t√© r√©pondue correctement
                if (sessionStorage.getItem("questionCadreFait") == "true") {
                    tblQ5.style.display = "none"
                    afficheCadre.innerHTML = "üìà = 28"
                } else {
                    tblQ5.style.display = "block"
                }
            }
            
            //Afficher la bo√Æte avec question ou l'indice lorsqu'on clique sur le papier
            btn6.onclick = function(){
                boite.style.display = "block"
                q6.style.display = "block"
                
                if (sessionStorage.getItem("questionPapierFait") == "true") {
                    tblQ6.style.display = "none"
                     affichePapier.innerHTML = "üìÑ = 4"
                } else {
                    tblQ6.style.display = "block"
                }
            }
    
            //Afficher la bo√Æte avec question lorsqu'on clique sur la porte
            btnPorte.onclick = function(){
                // Afficher la bo√Æte et la question de la porte
                boite.style.display = "block"
                porte1.style.display = "block"
                
                // Cr√©er une variable qui va contenir les indices des questions r√©pondues correctement
                var tblIndices = []
                
                // Si la question de l'ours est faite, ajouter son indice
                if (sessionStorage.getItem("questionOursFait") == "true") {
                    tblIndices.push("üß∏ = 5")
                }
                
                // Si la question de la plante est faite, ajouter son indice
                if (sessionStorage.getItem("questionPlanteFait") == "true") {
                    tblIndices.push("ü™¥ = 9")
                }
                
                // Si la question de la peinture est faite, ajouter son indice
                if (sessionStorage.getItem("questionPeintureFait") == "true") {
                    tblIndices.push("üé® = 16")
                }
                
                // Si la question du tiroir est faite, ajouter son indice
                if (sessionStorage.getItem("questionTiroirFait") == "true") {
                    tblIndices.push("üóÉÔ∏è = 0")
                }
                
                // Si la question du cadre est faite, ajouter son indice
                if (sessionStorage.getItem("questionCadreFait") == "true") {
                    tblIndices.push("üìà = 28")
                }
                
                // Si la question du papier est faite, ajouter son indice
                if (sessionStorage.getItem("questionPapierFait") == "true") {
                    tblIndices.push("üìÑ = 4")
                }
                
                // Afficher les indices √† l'√©cran
                afficheIndices.innerHTML = "Indices trouv√©s : <br>" + tblIndices.join(', &nbsp;')
            }
            
            //R√©cup√®re le bouton qui ferme le "popup"
            var ferme = document.getElementsByClassName("fermer")[0]
            
            //Si le bouton pour fermer est cliqu√©, la boite dispara√Æt
            ferme.onclick = function() {
                boite.style.display = "none";
                
                q4.style.display = "none"
                q5.style.display = "none"
                q6.style.display = "none"
                porte1.style.display = "none"
            }

            // Appel √† la fonction qui commence la minuterie
            startTimer();
            
        </script>
    </body>
    
</html>
